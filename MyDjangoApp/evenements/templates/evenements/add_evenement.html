{% extends 'evenements/base.html' %}
{% block content %}

  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card shadow-lg" style="border-radius: 20px;">
          <div class="card-body p-5">

            <h1 class="text-center" style="font-family: 'Montserrat', sans-serif; font-weight: 700;">Add Event</h1>
            <br/><br/>

            {% if submitted %}
              <div class="alert alert-success text-center" role="alert">
                !Your Event has been added
              </div>
            {% else %}

              <form action="" method="POST">
                {% csrf_token %}
                {{ form.as_p }}

                <div class="text-center mt-4">
                  <button type="submit" class="btn btn-secondary btn-lg" style="border-radius: 50px; padding: 10px 30px; font-weight: 600;">
                    Submit
                  </button>
                </div>
              </form>
            {% endif %}

          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ajout de Flatpickr -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

  <!-- Script pour activer Flatpickr sur l'input de date -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
        flatpickr("input[name='evenement_date']", {
            enableTime: true,           // Permet la sélection de l'heure
            dateFormat: "Y-m-d H:i",    // Format de date
            minDate: "today",           // Désactive les dates passées
        });
    });
  </script>

{% endblock %}
